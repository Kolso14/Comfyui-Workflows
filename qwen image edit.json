{
  "id": "9573bc94-2640-47b8-b8eb-e399388de1eb",
  "revision": 0,
  "last_node_id": 141,
  "last_link_id": 307,
  "nodes": [
    {
      "id": 118,
      "type": "ConditioningZeroOut",
      "pos": [
        621.95458984375,
        169.4612274169922
      ],
      "size": [
        197.66665649414062,
        26
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 298
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            241
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "ConditioningZeroOut"
      },
      "widgets_values": []
    },
    {
      "id": 8,
      "type": "VAEDecode",
      "pos": [
        1201.6365966796875,
        498.724853515625
      ],
      "size": [
        210,
        46
      ],
      "flags": {
        "collapsed": false
      },
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 128
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 76
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            110
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.48",
        "Node name for S&R": "VAEDecode",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 3,
      "type": "KSampler",
      "pos": [
        950.6409301757812,
        -46.059879302978516
      ],
      "size": [
        289.4566345214844,
        279.5333251953125
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 285
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 307
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 241
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 304
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            128
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.48",
        "Node name for S&R": "KSampler",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        323675059141945,
        "randomize",
        20,
        2.5,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 131,
      "type": "UNETLoader",
      "pos": [
        -223.46713256835938,
        -46.034820556640625
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            285
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "UNETLoader"
      },
      "widgets_values": [
        "qwen_image_edit_2509_fp8_e4m3fn.safetensors",
        "fp8_e4m3fn"
      ]
    },
    {
      "id": 39,
      "type": "VAELoader",
      "pos": [
        -247.16500854492188,
        280.30987548828125
      ],
      "size": [
        330,
        60
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            76,
            168,
            295
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.48",
        "Node name for S&R": "VAELoader",
        "models": [
          {
            "name": "qwen_image_vae.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors",
            "directory": "vae"
          }
        ],
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "qwen_image_vae.safetensors"
      ]
    },
    {
      "id": 38,
      "type": "CLIPLoader",
      "pos": [
        -250.67935180664062,
        118.20144653320312
      ],
      "size": [
        330,
        110
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 0,
          "links": [
            296
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.48",
        "Node name for S&R": "CLIPLoader",
        "models": [
          {
            "name": "qwen_2.5_vl_7b_fp8_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors",
            "directory": "text_encoders"
          }
        ],
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "qwen_2.5_vl_7b_fp8_scaled.safetensors",
        "qwen_image",
        "default"
      ]
    },
    {
      "id": 126,
      "type": "EmptySD3LatentImage",
      "pos": [
        635.427978515625,
        308.82745361328125
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "EmptySD3LatentImage"
      },
      "widgets_values": [
        1024,
        1024,
        1
      ]
    },
    {
      "id": 88,
      "type": "VAEEncode",
      "pos": [
        408.39495849609375,
        342.30572509765625
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 303
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 168
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            242,
            304
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.50",
        "Node name for S&R": "VAEEncode",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "ue_properties": {
          "widget_ue_connectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 78,
      "type": "LoadImage",
      "pos": [
        -473.4773254394531,
        756.2069091796875
      ],
      "size": [
        638.7005004882812,
        487.673095703125
      ],
      "flags": {
        "pinned": true
      },
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            301
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.50",
        "Node name for S&R": "LoadImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "ue_properties": {
          "widget_ue_connectable": {
            "image": true,
            "upload": true
          }
        }
      },
      "widgets_values": [
        "03.png",
        "image"
      ]
    },
    {
      "id": 60,
      "type": "SaveImage",
      "pos": [
        217.75877380371094,
        489.3744812011719
      ],
      "size": [
        950,
        1040
      ],
      "flags": {
        "pinned": true
      },
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 110
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.48",
        "Node name for S&R": "SaveImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "qwedit_%date:yyyy-MM-dd_hh-mm-ss%"
      ]
    },
    {
      "id": 119,
      "type": "ReferenceLatent",
      "pos": [
        616.0535888671875,
        70.00060272216797
      ],
      "size": [
        197.66665649414062,
        46
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 297
        },
        {
          "name": "latent",
          "shape": 7,
          "type": "LATENT",
          "link": 242
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            307
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "ReferenceLatent"
      },
      "widgets_values": []
    },
    {
      "id": 97,
      "type": "MarkdownNote",
      "pos": [
        1286.6806640625,
        -45.1753044128418
      ],
      "size": [
        300,
        160
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note: KSampler settings",
      "properties": {},
      "widgets_values": [
        "Always keep 2.5 CFG. Best step count is 20, but you can go higher to 30 if you want.\n\nYou can go as low as 10 steps, which makes it run quicker but lowers the quality of the *drawn* parts of the image (the un-altered parts are perfectly fine). Great for quick testing or for when you don't need high fidelity on drawn parts."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 137,
      "type": "ImageScaleToTotalPixelsX",
      "pos": [
        -105.47648620605469,
        498.65228271484375
      ],
      "size": [
        235.93333435058594,
        199
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 301
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            302,
            303
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": null
        },
        {
          "name": "height",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "aux_id": "BigStationW/ComfyUi-Scale-Image-to-Total-Pixels-Advanced",
        "ver": "694ae1f8352f770e4511f99ed35e2460d5591c83",
        "Node name for S&R": "ImageScaleToTotalPixelsX"
      },
      "widgets_values": [
        1.02,
        16,
        "crop",
        "lanczos",
        ""
      ]
    },
    {
      "id": 140,
      "type": "MarkdownNote",
      "pos": [
        -701.0709228515625,
        -133.8290252685547
      ],
      "size": [
        408.145263671875,
        507.738037109375
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Models",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "## Main Model\n\n[qwen_image_edit_2509_fp8_e4m3fn.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image-Edit_ComfyUI/resolve/main/split_files/diffusion_models/qwen_image_edit_2509_fp8_e4m3fn.safetensors)\n\nGoes in models/diffusion_models\n\nRequires 22.5GB VRAM\n\n--OR--\n\n[GGUF Versions](https://huggingface.co/QuantStack/Qwen-Image-Edit-2509-GGUF/tree/main)\n\nGoes in models/unet\n\nRequires [ComfyUI-GGUF](https://github.com/city96/ComfyUI-GGUF) extension, load the model with \"UNET Loader\" node\n\nAlso note they run much slower than fp8\n\n## Text Encoder\n\n[qwen_2.5_vl_7b_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors)\n\nGoes in models/text_encoders\n\n## VAE\n\n[qwen_image_vae.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors)\n\nGoes in models/vae\n\n&nbsp;\n\n## Non-direct Links\n\nhttps://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/tree/main\n\nhttps://huggingface.co/Comfy-Org/Qwen-Image-Edit_ComfyUI/tree/main\n\nhttps://huggingface.co/QuantStack/Qwen-Image-Edit-2509-GGUF/tree/main"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 135,
      "type": "MarkdownNote",
      "pos": [
        928.171142578125,
        293.7415771484375
      ],
      "size": [
        273.0282897949219,
        133.28334045410156
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note: Custom Output Size",
      "properties": {},
      "widgets_values": [
        "<-- You can feed a custom-sized latent into the ksampler if you want a different image size output.\n\nIdeal sizes are: 832x1248, 1248x832, 1024x1024\n\nHowever, qwen 2509 can handle pretty much any image at approx. 1 megapixel as long as it's not too crazy of an aspect ratio. Up to 16:9 or 9:16 seems fine."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 141,
      "type": "MarkdownNote",
      "pos": [
        -348.7845153808594,
        505.2725524902344
      ],
      "size": [
        225.10386657714844,
        168.42791748046875
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note: Scaling",
      "properties": {},
      "widgets_values": [
        "These scaling settings are important, don't change them unless you know what you're doing. Ideal settings:\n\nMegapixels - 1.02\n\nMultiple of - 16\n\nresize_mode - crop\n\nupscale_method - lanczos"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 136,
      "type": "TextEncodeQwenImageEditPlus",
      "pos": [
        170.58529663085938,
        70.07563781738281
      ],
      "size": [
        400,
        200
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 296
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": 295
        },
        {
          "name": "image1",
          "shape": 7,
          "type": "IMAGE",
          "link": 302
        },
        {
          "name": "image2",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "image3",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            297,
            298
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "TextEncodeQwenImageEditPlus"
      },
      "widgets_values": [
        "Change the person's top to a black singlet."
      ],
      "color": "#232",
      "bgcolor": "#353"
    }
  ],
  "links": [
    [
      76,
      39,
      0,
      8,
      1,
      "VAE"
    ],
    [
      110,
      8,
      0,
      60,
      0,
      "IMAGE"
    ],
    [
      128,
      3,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      168,
      39,
      0,
      88,
      1,
      "VAE"
    ],
    [
      241,
      118,
      0,
      3,
      2,
      "CONDITIONING"
    ],
    [
      242,
      88,
      0,
      119,
      1,
      "LATENT"
    ],
    [
      285,
      131,
      0,
      3,
      0,
      "MODEL"
    ],
    [
      295,
      39,
      0,
      136,
      1,
      "VAE"
    ],
    [
      296,
      38,
      0,
      136,
      0,
      "CLIP"
    ],
    [
      297,
      136,
      0,
      119,
      0,
      "CONDITIONING"
    ],
    [
      298,
      136,
      0,
      118,
      0,
      "CONDITIONING"
    ],
    [
      301,
      78,
      0,
      137,
      0,
      "IMAGE"
    ],
    [
      302,
      137,
      0,
      136,
      2,
      "IMAGE"
    ],
    [
      303,
      137,
      0,
      88,
      0,
      "IMAGE"
    ],
    [
      304,
      88,
      0,
      3,
      3,
      "LATENT"
    ],
    [
      307,
      119,
      0,
      3,
      1,
      "CONDITIONING"
    ]
  ],
  "groups": [
    {
      "id": 5,
      "title": "Models",
      "bounding": [
        -270.70208740234375,
        -129.1732940673828,
        381.6180419921875,
        486.7322998046875
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.7760151882637519,
      "offset": [
        844.5432288838097,
        -262.09052420383205
      ]
    },
    "frontendVersion": "1.26.13",
    "ue_links": [],
    "links_added_by_ue": [],
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}